<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D CSV Visualisierung</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h2>CSV-Datei hochladen</h2>
    <input type="file" id="csvFile" accept=".csv">
    <div id="plot"></div>

    <script>
        document.getElementById('csvFile').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const lines = e.target.result.split('\n');
                let rpm = [], throttle = [], lambda = [];

                for (let i = 1; i < lines.length; i++) {
                    let values = lines[i].split(',');
                    if (values.length >= 5) {
                        rpm.push(parseFloat(values[1]));
                        throttle.push(parseFloat(values[2]));
                        lambda.push(parseFloat(values[4]));
                    }
                }

                let trace = {
                    x: rpm,
                    y: throttle,
                    z: lambda,
                    mode: 'markers',
                    marker: { size: 5, color: lambda, colorscale: 'Viridis' },
                    type: 'scatter3d'
                };

                Plotly.newPlot('plot', [trace], { margin: { t: 0 } });
            };

            reader.readAsText(file);
        });
    </script>
</body>
</html>

